<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>导航首页</title>
    <link rel="stylesheet" href="./home-demo.css">
</head>
<body>
<header></header>
<main id="mainDemo"></main>
<footer></footer>
</body>
<script>
    var key = {
        0:{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:'10'},
        1:{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:'9'},
        2:{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:'7'},
        'length': 3
    };
    var hash = {
        'q': 'qq.com',
        'w': 'weibo.com',
        'e': 'ele.me',
        'r': 'renren.com',
        't': 'tianya.com',
        'y': 'youtu.com',
        'u': 'uc.com',
        'i': 'iqiyi.com',
        'p': undefined,
        'a': 'acfun.tv',
        's': 'sohu.com',
        'z': 'zhihu.com',
        'm': 'www.mcdonalds.com.cn'
    };
    //取localStorage中的wangzhi对应的hash
    wangzhi = JSON.parse(localStorage.getItem('wangzhi') || null);
    if (wangzhi){
        hash = wangzhi
    }
    //遍历key，产生kbd标签
    index=0;
    while (index<key['length']) {
        div1 = document.createElement('div');
        mainDemo.appendChild(div1);
        row = key[index];
        index2 = 0;
        while (index2<row['length']) {
            kbdDemo = document.createElement('kbd');
            kbdDemo.textContent = row[index2];
            buttonDemo = document.createElement('button');
            buttonDemo.textContent = '编辑';
            buttonDemo.id = row[index2];
            buttonDemo.onclick = function (d) {
                key = d['target']['id'];
                x = prompt('给我一个网址');
                hash[key] = x;
                localStorage.setItem('wangzhi',JSON.stringify(hash));
            };
            div1.appendChild(kbdDemo);
            kbdDemo.appendChild(buttonDemo);
            index2 = index2+1;
        }
        index = index+1;
    }
    //监听键盘事件
    document.onkeypress = function (d) {
        keys = d.key;
        website = hash[keys];
        window.open('https://'+website,'_blank');//_blank新开窗口打开
        // location.href = 'http://'+website;//模拟在地址栏中输入，在当前窗口打开
    }

</script>
</html>